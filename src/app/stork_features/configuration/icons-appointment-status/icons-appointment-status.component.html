<div id="tab14" class="tab" ng-controller="addOnCtrl">
  <h1 class="addon">Icon</h1>
  <div class="admin admin1">
    <div class="aright" style="position:relative;">
      <div class="row" style="margin-top: 10px;">
        <div class="my-container">
          <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>

        </div>
        <div class="col-sm-2 colsm4">
          <div class="row ">
            <div class="col-sm-1">
              <button class="fa fa-plus-square plussquare  " (click)="openModal(icontemplate,'A')" matTooltip="Add New Icon" [matTooltipPosition]="position"></button>
            </div>
            <div class="col-sm-11">
              <!--<label>Add Customer</label>-->
            </div>
            <!--Open modal window for adding new icon and appointment-->
            <ng-template #icontemplate style="width:100%;">
              <div class="modal-header" id="myModal" style="background:rgba(0, 187, 89, 0.73);">
                <div style="font-weight:bold;font-size:20px;text-align:center;color:#fff;width:100%;">
                  Add New Icon/Appointment
                </div>
                <a id="closeNewTherapistForm" style="float:right; margin-right:5px; cursor: pointer;" (click)="modalRef.hide()">
                  <i class="fa fa-times-circle" style="font-size: 28px; color:#FF6470!important;"></i>
                </a>
              </div>
              <div class="modal-body fontclr">
                <section style="padding-top:20px;">
                  <form (submit)="openConfirmModal(SaveTemplate)" [formGroup]="iconappform">
                    <div class="account">
                      <div class=" row account1_tbl row-addons">
                        <div class="col-sm-2" style="position:relative;"></div>
                        <div class="col-sm-10">
                          <div *ngIf="isError">
                            <label class="errormsg">{{errormsg}}</label>
                          </div>
                        </div>
                      </div>
                      <div class=" row row-addons account1_tbl">
                        <div class="col-sm-2" style="position:relative;">

                          <h5 style="padding-top:0px;">Select Icon:</h5>
                        </div>
                        <div class="col-sm-10">

                          <a target="_blank" href="http://fontawesome.io/cheatsheet/" style="font-size:16px;color:blue">Click here to select Icons</a>
                        </div>
                      </div>



                      <div class=" row row-addons account1_tbl">
                        <div class="col-sm-2" style="position:relative;">

                          <h5 style="padding-top:0px;">Status Name:</h5>
                        </div>
                        <div class="col-sm-9">
                          <input class="row-input form-control" type="text" formControlName="statusname" [ngModel]="statusname">
                        </div>
                        <control-messages [control]="iconappform.controls.statusname" style="color: #E82C0C;margin: 6px 0;"></control-messages>
                        <div class="col-sm-1">
                        </div>
                      </div>
                      <div class=" row  row-addons account1_tbl">
                        <div class="col-sm-2" style="position:relative;">
                          <h5 style="padding-top:0px;">Icon Class:</h5>
                        </div>
                        <div class="col-sm-6">
                          <input class="row-input form-control" type="text" formControlName="iconclass" [ngModel]="iconclass" >
                        </div>
                        <div class="col-sm-2">
                          <h5 style="padding-top:0px;">Icon Image:</h5>
                        </div>
                        <div class="col-sm-1">
                          <div class="inner-addon left-addon">
                            <i class="fa {{iconappform.value.iconclass}}" [style.color]="iconappform.value.iconcolor"></i>
                            <input type="text" class="form-control row-input" formControlName="iconimage" [ngModel]="iconimage" style="margin-left: -85%;width: 180%;" readonly>
                          </div>
                          <!--<i class="fa {{iconappform.value.iconclass}}"  formControlName="iconimage"></i>-->
                        </div>
                        <control-messages [control]="iconappform.controls.iconclass" style="color: #E82C0C;margin: 6px 0;"></control-messages>

                      </div>
                      <div class=" row row-addons account1_tbl">
                        <div class="col-sm-2" style="position:relative;">

                          <h5 style="padding-top:0px;">Icon Color:</h5>
                        </div>
                        <div class="col-sm-9">
                          <input [(colorPicker)]="iconcolor" [style.background]="iconcolor" class="row-input form-control" type="text" formControlName="iconcolor" [ngModel]="iconcolor"
                            [value]="iconcolor" [ngModel]="iconcolor">

                        </div>
                        <control-messages [control]="iconappform.controls.iconcolor" style="color: #E82C0C;margin: 6px 0;"></control-messages>
                        <div class="col-sm-1">
                        </div>
                      </div>
                      <div class=" row row-addons account1_tbl">
                        <div class="col-sm-2" style="position:relative;">

                          <h5 style="padding-top:0px;">Font Color:</h5>
                        </div>
                        <div class="col-sm-9">
                          <input class="row-input form-control" type="text" formControlName="fontcolor" [ngModel]="fontcolor" [(colorPicker)]="fontcolor" [style.background]="fontcolor"
                            [value]="fontcolor" [ngModel]="fontcolor">
                        </div>
                        <!--<control-messages [control]="iconappform.controls.iconcolor" style="color: #E82C0C;margin: 6px 0;"></control-messages>-->
                        <div class="col-sm-1">
                        </div>
                      </div>
                      <div class=" row row-addons account1_tbl">
                        <div class="col-sm-2" style="position:relative;">
                          <h5 style="padding-top:0px;">Background Color:</h5>
                        </div>
                        <div class="col-sm-9">
                          <input class="row-input form-control" type="text" formControlName="backgroundcolor" [(colorPicker)]="backgroundcolor" [style.background]="backgroundcolor"
                            [value]="backgroundcolor" [ngModel]="backgroundcolor">
                        </div>
                        <div class="col-sm-1">
                        </div>
                      </div>
                      <div class=" row ">
                        <div class="col-sm-12" style="position:relative;">
                          <button id="update" name="update" style="text-align: centre;margin-top:16px;font-size:16px;" class="btn savebtn" [disabled]="!iconappform.valid">Save </button>

                          <!--open confirm  modal window-->
                          <ng-template #SaveTemplate>
                            <div class="modal-body">
                              <div class="modal-head"> Do you want to save? </div>
                            </div>
                            <div class="modalfooter fontclr">
                              <button type="button" class="btn btn-default" id="modal-btn-si" (click)="create_appointment_status()">Yes</button>
                              <button type="button" class="btn btn-no" id="modal-btn-no" (click)="confirmModalRef.hide()">No</button>
                            </div>
                          </ng-template>
                          <!--close  setup modal window-->





                        </div>
                      </div>
                    </div>
                  </form>
                </section>
              </div>
            </ng-template>

          </div>
        </div>
        <div class="col-sm-6 colsm3">


          <input class="form-control inputtext" #titleInput>

        </div>
        <div class="col-sm-2 configsearch">
          <button class="fa fa-search fasearch configfasearch" matInput (click)="applyFilter(titleInput.value)" matTooltip="Search"
            matTooltipPosition="below"></button>
        </div>

        <div class="col-sm-2 result"></div>
      </div>
      <hr class="hr">

      <div class="example-container mat-elevation-z8">
        <mat-table #table [dataSource]="appStatus_dataSource" class="mat-table-height" #iconsort="matSort" matSort>

          <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->

          <!-- Position Column -->
          <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef mat-sort-header>Status Name </mat-header-cell>
            <mat-cell *matCellDef="let appStatus" [style.color]="appStatus.fontcolor"> {{appStatus.name}} </mat-cell>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="color">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Icon </mat-header-cell>
            <mat-cell *matCellDef="let appStatus">
              <mat-icon class="fa  {{appStatus.icon.class_name}}" [style.color]="appStatus.icon.color"></mat-icon>
            </mat-cell>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="class_name">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Class </mat-header-cell>
            <mat-cell *matCellDef="let appStatus"> {{appStatus.icon.class_name}} </mat-cell>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="Actions">
            <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
            <mat-cell *matCellDef="let appStatus">
              <button mat-icon-button color="accent" (click)="openModal(editicontemplate,'E',appStatus)" class="edit-delete" matTooltip="Edit"
                [matTooltipPosition]="position">
                <mat-icon class="fa fa-pencil"></mat-icon>
              </button>
              <!--open Modal window for editing-->
              <ng-template #editicontemplate style="width:100%;">
                <div class="modal-header" id="myModal" style="background:rgba(0, 187, 89, 0.73);">
                  <div style="font-weight:bold;font-size:20px;text-align:center;color:#fff;width:100%;">
                    Edit Icon/Appointment
                  </div>
                  <a id="closeNewTherapistForm" style="float:right; margin-right:5px; cursor: pointer;" (click)="modalRef.hide()">
                    <i class="fa fa-times-circle" style="font-size: 28px; color:#FF6470!important;"></i>
                  </a>
                </div>
                <div class="modal-body fontclr">
                  <section style="padding-top:20px;">
                    <form (submit)=" openConfirmModal(EditTemplate)" [formGroup]="iconappform">
                      <div class="account">

                        <div class=" row row-addons account1_tbl">
                          <div class="col-sm-2" style="position:relative;">

                            <h5 style="padding-top:0px;">Status Name:</h5>
                          </div>
                          <div class="col-sm-9">
                            <input class="row-input form-control" type="text" formControlName="statusname" [ngModel]="appStatus.name">
                          </div>
                          <!--<control-messages [control]="iconappform.controls.iconcolor" style="color: #E82C0C;margin: 6px 0;"></control-messages>-->
                          <div class="col-sm-1"></div>
                        </div>
                        <div class=" row  row-addons account1_tbl">
                          <div class="col-sm-2" style="position:relative;">

                            <h5 style="padding-top:0px;">Icon Class:</h5>
                          </div>
                          <div class="col-sm-6">

                            <input class="row-input form-control" type="text" formControlName="iconclass" [ngModel]="appStatus.icon.class_name">

                          </div>
                          <div class="col-sm-2">
                            <h5 style="padding-top:0px;">Icon Image:</h5>
                          </div>
                          <div class="col-sm-1">
                            <div class="inner-addon left-addon">
                              <i class="fa {{iconappform.value.iconclass}}" [style.color]="iconappform.value.iconcolor"></i>
                              <input type="text" class="form-control row-input" formControlName="iconimage" style="margin-left: -85%;width: 180%;" readonly>
                            </div>
                          </div>
                          <control-messages [control]="iconappform.controls.iconclass" style="color: #E82C0C;margin: 6px 0;"></control-messages>

                        </div>
                        <div class=" row row-addons account1_tbl">
                          <div class="col-sm-2" style="position:relative;">

                            <h5 style="padding-top:0px;">Icon Color:</h5>
                          </div>
                          <div class="col-sm-9">
                            <input [(colorPicker)]="appStatus.icon.color" [style.background]="appStatus.icon.color" class="row-input form-control" type="text"
                              formControlName="iconcolor" [value]="appStatus.icon.color" [ngModel]="appStatus.icon.color">
                          </div>
                          <control-messages [control]="iconappform.controls.iconcolor" style="color: #E82C0C;margin: 6px 0;"></control-messages>
                          <div class="col-sm-1">
                          </div>
                        </div>
                        <div class=" row row-addons account1_tbl">
                          <div class="col-sm-2" style="position:relative;">

                            <h5 style="padding-top:0px;">Font Color:</h5>
                          </div>
                          <div class="col-sm-9">
                            <input [(colorPicker)]="appStatus.fontcolor" [style.background]="appStatus.fontcolor" class="row-input form-control" type="text"
                              formControlName="fontcolor" [value]="appStatus.fontcolor" [ngModel]="appStatus.fontcolor">
                          </div>
                          <!--<control-messages [control]="iconappform.controls.iconcolor" style="color: #E82C0C;margin: 6px 0;"></control-messages>-->
                          <div class="col-sm-1"></div>
                        </div>
                        <div class=" row row-addons account1_tbl">
                          <div class="col-sm-2" style="position:relative;">
                            <h5 style="padding-top:0px;">Background Color:</h5>
                          </div>
                          <div class="col-sm-9">
                            <input class="row-input form-control" type="text" formControlName="backgroundcolor" [(colorPicker)]="appStatus.backgroundcolor"
                              [style.background]="appStatus.backgroundcolor" [value]="appStatus.backgroundcolor" [ngModel]="appStatus.backgroundcolor">
                          </div>
                          <div class="col-sm-1">
                          </div>
                        </div>
                        <div class=" row ">
                          <div class="col-sm-12" style="position:relative;">
                            <button id="save" name="save" style="text-align: centre;margin-top:16px;font-size:16px;" class="btn savebtn" [disabled]="!iconappform.valid || disable">Save </button>
                            <!--Open confirm  modal window-->
                            <ng-template #EditTemplate>
                              <div class="modal-body">
                                <div class="modal-head"> Do you want to save? </div>
                              </div>
                              <div class="modalfooter fontclr">
                                <button type="button" class="btn btn-default" id="modal-btn-si" (click)="update_appointment_status(appStatus._id)">Yes</button>
                                <button type="button" class="btn btn-no" id="modal-btn-no" (click)="confirmModalRef.hide()">No</button>
                              </div>
                            </ng-template>
                            <!--Close confirm setup modal window-->
                          </div>
                        </div>
                      </div>
                    </form>
                  </section>
                </div>
              </ng-template>
              <button mat-icon-button color="accent" class="edit-delete" (click)="openModal(deleteicontemplate,'d')" matTooltip="Delete"
                [matTooltipPosition]="position">
                <!--delete Region modal window-->
                <ng-template #deleteicontemplate>

                  <div class="modal-body">
                    <div class="modal-head">Do you want to delete appointment status? </div>
                  </div>
                  <div class="modalfooter fontclr">
                    <button type="button" class="btn btn-default" id="modal-btn-si" (click)="delete_appointment_status_by_Id(appStatus._id)">Yes</button>
                    <button type="button" class="btn btn-no" id="modal-btn-no" (click)="modalRef.hide()">No</button>
                  </div>
                </ng-template>
                <!--close delete Region modal window-->
                <mat-icon class="fa fa-trash-o"></mat-icon>
              </button>
            </mat-cell>
          </ng-container>



          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row style="text-align: left;" *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
        <mat-paginator #paginator [pageSize]="10" [pageSizeOptions]="[10, 20, 30,40,50]" [showFirstLastButtons]="true">
        </mat-paginator>

      </div>

    </div>
  </div>
</div>