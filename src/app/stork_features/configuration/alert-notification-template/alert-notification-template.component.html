<div id="tab6" class="tab" ng-show="!showTemplate">
    <h1 class="notification">Notification Template
        <button class="fa fa-plus-square plussquare  " (click)="openModal(addNewTemplate,'A')" matTooltip="Add template " [matTooltipPosition]="position"></button>
    </h1>
    <ng-template #addNewTemplate style="width:100%;">
        <div class="modal-header" id="myModal" style="background:rgba(0, 187, 89, 0.73);">
            <div style="font-weight:bold;font-size:20px;text-align:center;color:#fff;width:100%;">
                Template
            </div>
            <a id="closeNewTherapistForm" style="float:right; margin-right:5px; cursor: pointer;" (click)="modalRef.hide()">
                <i class="fa fa-times-circle" style="font-size: 28px; color:#FF6470!important;"></i>
            </a>
        </div>
        <div class="modal-body fontclr">
            <section style="padding-top:20px;">
                <form name="cForm" [formGroup]="templateform">
                    <div class="account">
                        <div class=" row account1_tbl row-addons">
                            <div class="col-sm-2" style="position:relative;"></div>
                            <div class="col-sm-10">
                                <div *ngIf="isError">
                                    <label class="errormsg">{{errormsg}}</label>
                                </div>
                            </div>
                        </div>
                        <div class=" row  row-addons account1_tbl">
                            <div class="col-sm-2" style="position:relative;">

                                <h5 class="row-label" style="padding-top:0px;">User Type:</h5>
                            </div>
                            <div class="col-sm-5">

                                <select class="row-input form-control" name="usertype" [(ngModel)]="usertype" formControlName="usertype">
                                    <option *ngFor="let user of userType" [ngValue]="user.value">{{user.name}}</option>
                                </select>
                            </div>
                            <div class="col-sm-5">
                                <select class="row-input form-control" name="userstatus" [(ngModel)]="userstatus" formControlName="userstatus">
                                    <option *ngFor="let user of userStaus" [ngValue]="user.value">{{user.name}}</option>
                                </select>
                            </div>
                        </div>
                        <div class=" row row-addons account1_tbl">
                            <div class="col-sm-2" style="position:relative;">

                                <h5 class="row-label" style="padding-top:0px;">SMS Body:</h5>

                            </div>
                            <div class="col-sm-10">

                                <textarea class="row-input form-control" type="text" name="smsBody" [(ngModel)]="smsBody" formControlName="smsBody"></textarea>
                            </div>
                        </div>
                        <div class=" row row-addons account1_tbl">
                            <div class="col-sm-2" style="position:relative;">

                                <h5 class="row-label" style="padding-top:0px;">Subject:</h5>
                            </div>
                            <div class="col-sm-10">

                                <input class="row-input form-control" type="text" name="Subject" [(ngModel)]="subject" formControlName="subject">
                            </div>
                        </div>
                        <div class=" row row-addons account1_tbl">
                            <div class="col-sm-2" style="position:relative;">

                                <h5 class="row-label" style="padding-top:0px;">Email Body:</h5>
                            </div>
                            <div class="col-sm-10">

                                <textarea class="row-input form-control" type="text" name="EmailBody" [(ngModel)]="emailBody" formControlName="emailBody"></textarea>
                            </div>
                        </div>

                        <div class=" row ">
                            <div class="col-sm-12" style="position:relative;">
                                <button style=" text-align: centre;margin-top:16px;font-size:16px;" class="btn savebtn" (click)="openConfirmModal(SaveTemplate)">Save </button>

                                <!--Open confirm  modal window-->
                                <ng-template #SaveTemplate>
                                    <div class="modal-body">
                                        <div class="modal-head"> Do you want to save? </div>
                                    </div>
                                    <div class="modalfooter fontclr">
                                        <button type="button" class="btn btn-default" id="modal-btn-si" (click)="create_template()">Yes</button>
                                        <button type="button" class="btn btn-no" id="modal-btn-no" (click)="confirmModalRef.hide()">No</button>
                                    </div>
                                </ng-template>
                                <!--Close confirm setup modal window-->

                            </div>
                        </div>
                    </div>
                </form>
            </section>
        </div>
    </ng-template>
    <div class="table_details" style="width:100%;">
        <label class="noticationtable"> SMS Notification Templates For Therapist</label>

        <div *ngFor="let temp of addTemplate">
            <div *ngIf="temp.type=='Therapist'">
                <div class="row leftrow" *ngIf="temp.smsBody!=null">
                    <div class="col-md-2">
                        <label class="labelbody">SMS Body: </label>
                    </div>
                    <div class="col-md-8">
                        <input type="text" class="form-control textboxcolor" style="width: 100%" [ngModel]="temp.smsBody" readonly>

                    </div>
                    <div class="col-md-2">
                        <button mat-icon-button color="accent" class="edit-delete" (click)="openModal(Edittemplate ,'E',temp)" matTooltip="Edit"
                            [matTooltipPosition]="position">
                            <ng-template #Edittemplate style="width:100%;">
                                <div class="modal-header" id="myModal" style="background:rgba(0, 187, 89, 0.73);">
                                    <div style="font-weight:bold;font-size:20px;text-align:center;color:#fff;width:100%;">
                                        Edit SMS
                                    </div>
                                    <a id="closeNewTherapistForm" style="float:right; margin-right:5px; cursor: pointer;" (click)="modalRef.hide()">
                                        <i class="fa fa-times-circle" style="font-size: 28px; color:#FF6470!important;"></i>
                                    </a>
                                </div>
                                <div class="modal-body fontclr">
                                    <section style="padding-top:20px;">
                                        <form name="cForm" [formGroup]="smstemplateform">
                                            <div class="account">
                                                <div class=" row row-addons account1_tbl">
                                                    <div class="col-sm-2" style="position:relative;">
                                                        <h5 class="row-label" style="padding-top:0px;">SMS Body:</h5>
                                                    </div>
                                                    <div class="col-sm-10">
                                                        <textarea class="row-input form-control" type="text" name="smsBody" [(ngModel)]="temp.smsBody" formControlName="smsBody"></textarea>
                                                    </div>
                                                </div>
                                                <div class=" row ">
                                                    <div class="col-sm-12" style="position:relative;">
                                                        <button style="text-align: centre;margin-top:16px;font-size:16px;" class="btn savebtn" (click)="openConfirmModal(EditTemplate)"
                                                            [disabled]="!smstemplateform.valid || disable">Save </button>
                                                        <!--Open confirm  modal window-->
                                                        <ng-template #EditTemplate>
                                                            <div class="modal-body">
                                                                <div class="modal-head"> Do you want to save?</div>
                                                            </div>
                                                            <div class="modalfooter fontclr">
                                                                <button type="button" class="btn btn-default" id="modal-btn-si" (click)="update_template_for_sms(temp._id,temp.smsBody,temp.subject,temp.type,temp.notifType,temp.emailBody,temp.appBody)">Yes</button>
                                                                <button type="button" class="btn btn-no" id="modal-btn-no" (click)="confirmModalRef.hide()">No</button>
                                                            </div>
                                                        </ng-template>
                                                        <!--Close confirm setup modal window-->

                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </section>
                                </div>
                            </ng-template>
                            <mat-icon class="fa fa-pencil"></mat-icon>
                        </button>

                        <button mat-icon-button color="accent" class="edit-delete" (click)="openModal(deletetemplate,'d')" matTooltip="Delete" [matTooltipPosition]="position">
                            <!--delete Template modal window-->
                            <ng-template #deletetemplate>
                                <div class="modal-body">
                                    <div class="modal-head">Do you want to delete this template? </div>
                                </div>
                                <div class="modalfooter fontclr">
                                    <button type="button" class="btn btn-default" id="modal-btn-si" (click)="delete_template_by_Id(temp._id)">Yes</button>
                                    <button type="button" class="btn btn-no" id="modal-btn-no" (click)="modalRef.hide()">No</button>
                                </div>
                            </ng-template>
                            <!--close delete Template modal window-->
                            <mat-icon class="fa fa-trash-o"></mat-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <label class="noticationtable" style="margin-top: 10px;"> SMS Notification Templates For Customer</label>

        <div *ngFor="let temp of addTemplate">

            <div *ngIf="temp.type=='Customer'">
                <div class="row leftrow" *ngIf="temp.smsBody!=null">
                    <div class="col-md-2">
                        <label class="labelbody">SMS Body: </label>
                    </div>
                    <div class="col-md-8" style="margin-bottom: 10px;">
                        <input type="text" class="form-control textboxcolor" style="width: 100%" [(ngModel)]="temp.smsBody" readonly>
                    </div>
                    <div class="col-md-2">
                        <button mat-icon-button color="accent" class="edit-delete" (click)="openModal(Edittemplate ,'E',temp)" matTooltip="Edit"
                            [matTooltipPosition]="position">
                            <ng-template #Edittemplate style="width:100%;">
                                <div class="modal-header" id="myModal" style="background:rgba(0, 187, 89, 0.73);">
                                    <div style="font-weight:bold;font-size:20px;text-align:center;color:#fff;width:100%;">
                                        Edit SMS
                                    </div>
                                    <a id="closeNewTherapistForm" style="float:right; margin-right:5px; cursor: pointer;" (click)="modalRef.hide()">
                                        <i class="fa fa-times-circle" style="font-size: 28px; color:#FF6470!important;"></i>
                                    </a>
                                </div>
                                <div class="modal-body fontclr">
                                    <section style="padding-top:20px;">
                                        <form name="cForm" [formGroup]="smstemplateform">
                                            <div class="account">
                                                <div class=" row row-addons account1_tbl">
                                                    <div class="col-sm-2" style="position:relative;">
                                                        <h5 class="row-label" style="padding-top:0px;">SMS Body:</h5>
                                                    </div>
                                                    <div class="col-sm-10">
                                                        <input type="text" class="row-input form-control" type="text" name="smsBody" [(ngModel)]="temp.smsBody" formControlName="smsBody">
                                                    </div>
                                                </div>
                                                <div class=" row ">
                                                    <div class="col-sm-12" style="position:relative;">
                                                        <button style=" text-align: centre;margin-top:16px;font-size:16px;" class="btn savebtn" (click)="update_template_for_sms(temp._id,temp.smsBody,temp.subject,temp.type,temp.notifType,temp.emailBody,temp.appBody)"
                                                            [disabled]="!smstemplateform.valid || disable">Save </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </section>
                                </div>
                            </ng-template>
                            <mat-icon class="fa fa-pencil"></mat-icon>
                        </button>

                        <button mat-icon-button color="accent" class="edit-delete" (click)="openModal(deletetemplate,'d')" matTooltip="Delete" [matTooltipPosition]="position">
                            <!--delete Template modal window-->
                            <ng-template #deletetemplate>
                                <div class="modal-body">
                                    <div class="modal-head">Do you want to delete this template? </div>
                                </div>
                                <div class="modalfooter fontclr">
                                    <button type="button" class="btn btn-default" id="modal-btn-si" (click)="delete_template_by_Id(temp._id)">Yes</button>
                                    <button type="button" class="btn btn-no" id="modal-btn-no" (click)="modalRef.hide()">No</button>
                                </div>
                            </ng-template>
                            <!--close delete Template modal window-->
                            <mat-icon class="fa fa-trash-o"></mat-icon>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <div class="table_details" style="width:100%;">


        <label class="noticationtable"> Email Notification Templates For Therapist</label>

        <div>

            <div *ngFor="let temp of addTemplate">

                <div *ngIf="temp.type=='Therapist'">
                    <div class="row leftrow" *ngIf="temp.subject!=null">
                        <div class="col-md-2">
                            <label class="labelbody">Subject : </label>
                        </div>
                        <div class="col-md-8">
                            <input type="text" class="therpisttext form-control" [(ngModel)]="temp.subject " readonly>
                        </div>
                        <div class="col-md-2">
                            <button mat-icon-button color="accent" class="edit-delete" (click)="openModal(Edittemplate ,'E',temp)" matTooltip="Edit"
                                [matTooltipPosition]="position">
                                <ng-template #Edittemplate style="width:100%;">
                                    <div class="modal-header" id="myModal" style="background:rgba(0, 187, 89, 0.73);">
                                        <div style="font-weight:bold;font-size:20px;text-align:center;color:#fff;width:100%;">
                                            Edit Template
                                        </div>
                                        <a id="closeNewTherapistForm" style="float:right; margin-right:5px; cursor: pointer;" (click)="modalRef.hide()">
                                            <i class="fa fa-times-circle" style="font-size: 28px; color:#FF6470!important;"></i>
                                        </a>
                                    </div>
                                    <div class="modal-body fontclr">
                                        <section style="padding-top:20px;">
                                            <form name="cForm" [formGroup]="templateform">
                                                <div class="account">
                                                    <div class=" row row-addons account1_tbl">
                                                        <div class="col-sm-2" style="position:relative;">

                                                            <h5 class="row-label" style="padding-top:0px;">Subject:</h5>
                                                        </div>
                                                        <div class="col-sm-10">

                                                            <input class="row-input form-control" type="text" name="Subject" [(ngModel)]="temp.subject" formControlName="subject">
                                                        </div>
                                                    </div>
                                                    <div class=" row row-addons account1_tbl">
                                                        <div class="col-sm-2" style="position:relative;">

                                                            <h5 class="row-label" style="padding-top:0px;">Email Body:</h5>
                                                        </div>
                                                        <div class="col-sm-10">

                                                            <textarea class="row-input form-control" type="text" name="EmailBody" [(ngModel)]="temp.emailBody" formControlName="emailBody"></textarea>
                                                        </div>
                                                    </div>
                                                    <div class=" row ">
                                                        <div class="col-sm-12" style="position:relative;">
                                                            <button style="text-align: centre;margin-top:16px;font-size:16px;" class="btn savebtn" (click)=" update_template_for_email(temp._id,temp.smsBody,temp.subject,temp.type,temp.notifType,temp.emailBody,temp.appBody)"
                                                                [disabled]="!templateform.valid || disable">Save </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </section>
                                    </div>
                                </ng-template>
                                <mat-icon class="fa fa-pencil"></mat-icon>
                            </button>
                            <button mat-icon-button color="accent" class="edit-delete" (click)="openModal(deletetemplate,'d')" matTooltip="Delete" [matTooltipPosition]="position">
                                <!--delete Template modal window-->
                                <ng-template #deletetemplate>
                                    <div class="modal-body">
                                        <div class="modal-head">Do you want to delete this template? </div>
                                    </div>
                                    <div class="modalfooter fontclr">
                                        <button type="button" class="btn btn-default" id="modal-btn-si" (click)="delete_template_by_Id(temp._id)">Yes</button>
                                        <button type="button" class="btn btn-no" id="modal-btn-no" (click)="modalRef.hide()">No</button>
                                    </div>
                                </ng-template>
                                <!--close delete Template modal window-->
                                <mat-icon class="fa fa-trash-o"></mat-icon>
                            </button>
                        </div>
                    </div>
                    <div class="row leftrow" *ngIf="temp.emailBody!=null">
                        <div class="col-md-2">
                            <label class="labelbody">Email Body : </label>
                        </div>
                        <div class="col-md-8" style="margin-bottom: 10px;">
                            <textarea class="templateTextArea form-control" [(ngModel)]="temp.emailBody" readonly></textarea>
                        </div>
                        <div class="col-md-2"></div>
                    </div>
                </div>
            </div>

        </div>

        <label class="noticationtable">Email Notification Templates For Customer</label>

        <div>
            <div *ngFor="let temp of addTemplate">

                <div *ngIf="temp.type=='Customer'">
                    <div class="row leftrow" *ngIf="temp.subject!=null">
                        <div class="col-md-2">
                            <label>Subject : </label>
                        </div>
                        <div class="col-md-8">
                            <input type="text" class="therpisttext form-control " [(ngModel)]="temp.subject " readonly>
                        </div>
                        <div class="col-md-2">
                            <button mat-icon-button color="accent" class="edit-delete" (click)="openModal(Edittemplate ,'E',temp)" matTooltip="Edit"
                                [matTooltipPosition]="position">
                                <ng-template #Edittemplate style="width:100%;">
                                    <div class="modal-header" id="myModal" style="background:rgba(0, 187, 89, 0.73);">
                                        <div style="font-weight:bold;font-size:20px;text-align:center;color:#fff;width:100%;">
                                            Edit Template
                                        </div>
                                        <a id="closeNewTherapistForm" style="float:right; margin-right:5px; cursor: pointer;" (click)="modalRef.hide()">
                                            <i class="fa fa-times-circle" style="font-size: 28px; color:#FF6470!important;"></i>
                                        </a>
                                    </div>
                                    <div class="modal-body fontclr">
                                        <section style="padding-top:20px;">
                                            <form name="cForm" [formGroup]="templateform">
                                                <div class="account">
                                                    <div class=" row row-addons account1_tbl">
                                                        <div class="col-sm-2" style="position:relative;">

                                                            <h5 class="row-label" style="padding-top:0px;">Subject:</h5>
                                                        </div>
                                                        <div class="col-sm-10">

                                                            <input class="row-input form-control" type="text" name="Subject" [(ngModel)]="temp.subject" formControlName="subject">
                                                        </div>
                                                    </div>
                                                    <div class=" row row-addons account1_tbl">
                                                        <div class="col-sm-2" style="position:relative;">

                                                            <h5 class="row-label" style="padding-top:0px;">Email Body:</h5>
                                                        </div>
                                                        <div class="col-sm-10">

                                                            <textarea class="row-input form-control" type="text" name="EmailBody" [(ngModel)]="temp.emailBody" formControlName="emailBody"></textarea>
                                                        </div>
                                                    </div>
                                                    <div class=" row ">
                                                        <div class="col-sm-12" style="position:relative;">
                                                            <button style=" text-align: centre;margin-top:16px;font-size:16px;" class="btn savebtn" (click)="update_template_for_email(temp._id,temp.smsBody,temp.subject,temp.type,temp.notifType,temp.emailBody,temp.appBody)"
                                                                [disabled]="!templateform.valid || disable">Save </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </section>
                                    </div>
                                </ng-template>
                                <mat-icon class="fa fa-pencil"></mat-icon>
                            </button>

                            <button mat-icon-button color="accent" class="edit-delete" (click)="openModal(deletetemplate,'d')" matTooltip="Delete" [matTooltipPosition]="position">
                                <!--delete Template modal window-->
                                <ng-template #deletetemplate>
                                    <div class="modal-body">
                                        <div class="modal-head">Do you want to delete this template? </div>
                                    </div>
                                    <div class="modalfooter fontclr">
                                        <button type="button" class="btn btn-default" id="modal-btn-si" (click)="delete_template_by_Id(temp._id)">Yes</button>
                                        <button type="button" class="btn btn-no" id="modal-btn-no" (click)="modalRef.hide()">No</button>
                                    </div>
                                </ng-template>
                                <!--close delete Template modal window-->
                                <mat-icon class="fa fa-trash-o"></mat-icon>
                            </button>
                        </div>

                    </div>
                    <div class="row leftrow" *ngIf="temp.emailBody!=null">
                        <div class="col-md-2">
                            <label>Email Body : </label>
                        </div>
                        <div class="col-md-8" style="margin-bottom: 10px;">
                            <textarea class="templateTextArea form-control" [(ngModel)]="temp.emailBody " readonly></textarea>
                        </div>
                        <div class="col-md-2"></div>
                    </div>
                </div>
            </div>
        </div>

    </div>



</div>